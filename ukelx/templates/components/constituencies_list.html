<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
    {% for constituency_id, results in constituencies.items() %}
    <div class="constituency-card bg-white shadow rounded-lg p-4">
        <h2 class="text-xl font-semibold mb-2">{{ results[0].name }}</h2>
        <table class="w-full text-sm">
            <tr>
                <th class="text-left">Candidate</th>
                <th class="text-left">Party</th>
                <th class="text-right">Votes</th>
            </tr>
            {% for result in results %}
            <tr class="{{ 'font-bold' if result.result_2024 == result.party_code else '' }}">
                <td>{{ result.candidate }}</td>
                <td>{{ result.party_code }}</td>
                <td class="text-right">{{ result.vote_number }} ({{ result.vote_share }}%)</td>
            </tr>
            {% endfor %}
        </table>
        <div class="mt-2">
            <p><strong>Result:</strong> {{ results[0].result_2024 }}</p>
            <p><strong>Majority:</strong> {{ results[0].majority_2024_number }} ({{ results[0].majority_2024_percent }}%)</p>
            <p><strong>Turnout:</strong> {{ results[0].turnout_2024_number }} ({{ results[0].turnout_2024_percent }}%)</p>
        </div>
    </div>
    {% endfor %}
</div>
